<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Trio Home Base</title>
<link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet" />
<style>
  :root {
    --background: #F5E0B7;
    --primary-text: #003249;
    --secondary-text: #875053;
    --nav-bg: #875053;
    --nav-link-bg: #D3F9B5;
    --nav-link-active: #F5E0B7;
    --accent: #D3F9B5;
  }
  body {
    font-family: Georgia, serif;
    margin: 0; padding: 0;
    background: var(--background);
    color: var(--primary-text);
    min-height: 100vh;
    text-align: center;
  }
  .banner {
    font-family: 'Pacifico', cursive;
    background: var(--secondary-text);
    color: var(--nav-link-active);
    letter-spacing: 1.5rem;
    font-size: 2rem;
    padding: 36px 0 18px 0;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(0,0,0,0.09);
    margin-bottom: 40px;
  }
  nav {
    display: flex;
    justify-content: center;
    background: var(--nav-bg);
    border-bottom: 4px solid var(--accent);
    padding: 0;
    margin-bottom: 40px;
  }
  nav a {
    color: var(--nav-link-bg);
    background: var(--nav-bg);
    text-decoration: none;
    padding: 18px 36px;
    font-weight: bold;
    font-size: 1.1rem;
    transition: background 0.2s, color 0.2s;
    font-family: Georgia, serif;
  }
  nav a.active, nav a:hover {
    color: var(--secondary-text);
    background: var(--nav-link-active);
  }
  .welcome-card {
    background: var(--accent);
    border-radius: 12px;
    padding: 24px 40px;
    color: var(--primary-text);
    box-shadow: 0 2px 8px rgba(0,0,0,0.09);
    font-size: 1.3rem;
    max-width: 90vw;
    margin: 0 auto 40px auto;
    box-sizing: border-box;
    text-align: left;
    font-family: Georgia, serif;
  }
  .welcome-card span.title {
    font-weight: bold;
    color: var(--secondary-text);
    font-size: 1.8rem;
    font-family: 'Pacifico', cursive;
    display: block;
    margin-bottom: 8px;
  }
  .welcome-card p {
    margin-top: 16px;
    line-height: 1.5;
  }
  .content-row {
    display: flex;
    justify-content: center;
    gap: 40px;
    max-width: 1100px;
    margin: 0 auto 60px auto;
    text-align: left;
  }
  .left-col {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 24px;
  }
  .right-col {
    flex: 1;
  }
  .card {
    background: var(--accent);
    border-radius: 12px;
    padding: 20px;
    color: var(--primary-text);
    box-shadow: 0 2px 8px rgba(0,0,0,0.09);
    font-size: 1rem;
    font-family: Georgia, serif;
  }
  iframe.calendar-iframe {
    width: 100%;
    height: 380px;
    border: none;
    border-radius: 12px;
  }
  .photo img {
    max-width: 100%;
    border-radius: 8px;
  }
  .submit-placeholder {
    font-style: italic;
    color: var(--secondary-text);
    margin-top: 12px;
  }
  form {
    display: flex;
    flex-direction: column;
  }
  input, textarea, button {
    font-family: Georgia, serif;
    font-size: 1rem;
    margin-bottom: 12px;
    padding: 8px;
    border-radius: 6px;
    border: 1px solid var(--secondary-text);
  }
  button {
    background-color: var(--secondary-text);
    color: var(--nav-link-active);
    border: none;
    font-weight: bold;
    cursor: pointer;
    padding: 12px;
  }
  button:hover {
    background-color: var(--primary-text);
  }
  #formMessage {
    font-weight: bold;
  }
</style>
</head>
<body>
  <div class="banner">TRIO&nbsp;&nbsp;&nbsp;HOME&nbsp;&nbsp;&nbsp;BASE</div>
  <nav>
    <a href="index.html" class="active">Home</a>
    <a href="trio-tour.html">Trio World Tour</a>
    <a href="memory-keeper.html">Memory Keeper</a>
    <a href="photo-highlights.html">Photo Highlights</a>
  </nav>

  <div class="welcome-card">
    <span class="title">Welcome to Trio Home Base!</span>
    <p>This is a place for us to come and stay connected when life gets busy! Whether its a submission to our agendas, a new place for us to try, or a favorite memory popped in your head, you can jot it down here! Use the navigation bar above to scratch your trio itch! See the calendar to the side to see our upcoming trio events!</p>
  </div>

  <div class="content-row">
    <div class="left-col">
      <div class="card photo">
        <h3>Our Trio</h3>
        <img src="homepage.jpg" alt="Photo of the Trio" />
      </div>

      <div class="card">
        <h3>Submit Trio Event</h3>
        <form id="eventForm">
          <input type="text" id="title" placeholder="Event Title" required />
          <textarea id="description" placeholder="Event Description"></textarea>
          <label>Start Time:
            <input type="datetime-local" id="start" required />
          </label>
          <label>End Time:
            <input type="datetime-local" id="end" required />
          </label>
          <button type="submit">Submit Event</button>
        </form>
        <p id="formMessage"></p>
      </div>
    </div>

    <div class="right-col">
      <div class="card calendar-card">
        <iframe
          class="calendar-iframe"
          src="https://calendar.google.com/calendar/embed?src=779135d36bbdaa2917cdcdf7bd72c8ee15d6b5b312a3be83f1f6d567509807c9%40group.calendar.google.com&ctz=America%2FChicago"
          scrolling="no"
        ></iframe>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById('eventForm');
    const formMessage = document.getElementById('formMessage');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const title = document.getElementById('title').value.trim();
      const description = document.getElementById('description').value.trim();
      const start = document.getElementById('start').value;
      const end = document.getElementById('end').value;

      if (!title || !start || !end) {
        formMessage.textContent = 'Please fill title, start, and end times.';
        formMessage.style.color = 'red';
        return;
      }

      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycbzvo7FnpfMxatcDnn-7ZQjGNR2SHQ-COQTemGnCi-ulWKIwjcVRxYgDOWU1A5-onwja/exec', {
          method: 'POST',
          body: JSON.stringify({ title, description, start, end }),
          headers: {
            'Content-Type': 'application/json',
          },
        });

        const result = await response.json();
        if (result.result === 'success') {
          formMessage.textContent = 'Event submitted successfully!';
          formMessage.style.color = 'green';
          form.reset();
        } else {
          formMessage.textContent = 'There was an error submitting the event.';
          formMessage.style.color = 'red';
        }
      } catch (e) {
        formMessage.textContent = 'Network error. Please try again later.';
        formMessage.style.color = 'red';
      }
    });
  </script>
</body>
</html>
